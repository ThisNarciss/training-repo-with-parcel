{"mappings":"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","sources":["src/js/fetch-countries-api.js","src/js/create-murk-up.js","src/js/countsAllPages.js","src/js/pagination.js","src/js/create-modal-murk-up.js","src/index.js"],"sourcesContent":["export default function fetchCountriesApi(page = 1) {\n  return fetch(\n    `https://pixabay.com/api/?key=32144711-033503d2fc66376fdc1e9e47c&q=beautiful+girl&image_type=photo&orientation=horizontal&page=${page}&per_page=30`\n  ).then(resp => resp.json());\n}\n","const dataBox = document.querySelector('.js-fetch-box');\n\nexport default function createMurkUp(data) {\n  const murkUp = data\n    .map(img => {\n      return `<div class=\"box\"><a class=\"large-image\" href=\"#\" data-large=\"${img.largeImageURL}\"><img class=\"box-img\" src=\"${img.webformatURL}\" alt=\"${img.tags}\" width=\"400px\" ></a><p>${img.tags}</p></div>`;\n    })\n    .join('');\n\n  dataBox.innerHTML = murkUp;\n}\n","export default function countsAllPages(totalHits, hitsLength) {\n  return (allPages = Math.ceil(totalHits / hitsLength));\n}\n","import fetchCountries from './fetch-countries-api';\nimport createMurkUp from './create-murk-up';\nimport countsAllPages from './countsAllPages';\n\nconst listRef = document.querySelector('.js-pagination-box');\n\nlet globalCurrentPage = 0;\nlet childIndex = 0;\n\nlistRef.addEventListener('click', renderPaginationMurkUp);\n\n/**\n * Create pagination\n * @param {Number} currentPage\n * @param {Number} allPages\n * @return {String}\n */\nexport default function pagination(currentPage, allPages) {\n  let murkUp = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforeOnePage = currentPage - 1;\n  let afterTwoPage = currentPage + 2;\n  let afterOnePage = currentPage + 1;\n  globalCurrentPage = currentPage;\n\n  if (currentPage > 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag link-pag--btn btn-left btn-rotate\"></button></li>';\n  } else if (currentPage === 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag link-pag--btn btn-rotate link-pag--hidden\" ></button></li>';\n  }\n\n  if (currentPage > 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >1</button></li>';\n  }\n  if (currentPage > 4) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >...</button></li>';\n  }\n  if (currentPage > 3) {\n    murkUp += `<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >${beforeTwoPage}</button></li>`;\n  }\n  if (currentPage > 2) {\n    murkUp += `<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >${beforeOnePage}</button></li>`;\n  }\n  murkUp += `<li class=\"item-pag\">\n        <button type=\"button\" class=\"link-pag\" >${currentPage}</button>\n      </li>`;\n  if (allPages - 1 > currentPage) {\n    murkUp += `<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >${afterOnePage}</button></li>`;\n  }\n  if (allPages - 2 > currentPage) {\n    murkUp += `<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >${afterTwoPage}</button></li>`;\n  }\n  if (allPages - 3 > currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag\" >...</button></li>';\n  }\n  if (allPages > currentPage) {\n    murkUp += `<li class=\"item-pag\">\n        <button type=\"button\" class=\"link-pag\" >${allPages}</button>\n      </li>`;\n  }\n\n  if (allPages > currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag link-pag--btn btn-right\"></button></li>';\n  } else if (allPages === currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><button type=\"button\" class=\"link-pag link-pag--btn link-pag--hidden\"></button></li>';\n  }\n\n  listRef.innerHTML = murkUp;\n\n  createAccentCurrentPage(currentPage, allPages);\n}\n\nfunction createAccentCurrentPage(page, allPages) {\n  if (page === allPages) {\n    childIndex = 5;\n  } else if (page <= 5) {\n    childIndex = 0;\n    childIndex += page;\n  }\n  const firstRef = listRef.children[childIndex].firstElementChild;\n  firstRef.classList.add('current');\n}\n\nfunction renderPaginationMurkUp(evt) {\n  if (Boolean(evt.target.closest('.btn-right'))) {\n    globalCurrentPage += 1;\n    fetchCountries(globalCurrentPage).then(data => {\n      createMurkUp(data.hits);\n      pagination(\n        globalCurrentPage,\n        countsAllPages(data.totalHits, data.hits.length)\n      );\n    });\n    return;\n  }\n  if (Boolean(evt.target.closest('.btn-left'))) {\n    globalCurrentPage -= 1;\n    fetchCountries(globalCurrentPage).then(data => {\n      createMurkUp(data.hits);\n      pagination(\n        globalCurrentPage,\n        countsAllPages(data.totalHits, data.hits.length)\n      );\n    });\n    return;\n  }\n\n  if (evt.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  if (evt.target.textContent === '...') {\n    return;\n  }\n\n  const page = Number(evt.target.textContent);\n\n  fetchCountries(page).then(data => {\n    createMurkUp(data.hits);\n    pagination(page, countsAllPages(data.totalHits, data.hits.length));\n  });\n}\n","const backdrop = document.querySelector('.backdrop');\n\nexport default function createModalMurkUp(href) {\n  const murkUp = `<div class=\"modal\"><img class=\"modal-img box-img\" src=\"${href}\" alt=\"\"></div>`;\n  backdrop.innerHTML = murkUp;\n}\n","import fetchCountries from './js/fetch-countries-api';\nimport pagination from './js/pagination';\nimport createMurkUp from './js/create-murk-up';\nimport createModalMurkUp from './js/create-modal-murk-up';\n\nconst backdrop = document.querySelector('.backdrop');\n\nfetchCountries().then(data => {\n  const allPages = Math.ceil(data.totalHits / data.hits.length);\n  createMurkUp(data.hits);\n  pagination(1, allPages);\n  const link = document.querySelectorAll('.large-image');\n\n  for (let i = 0; i < link.length; i += 1) {\n    const element = link[i];\n    element.addEventListener('click', evt => {\n      console.log(evt.currentTarget.dataset.large);\n      evt.preventDefault();\n      createModalMurkUp(evt.currentTarget.dataset.large);\n      backdrop.classList.remove('is-hidden');\n    });\n  }\n  console.log(link);\n  console.log('dsa');\n});\n\nbackdrop.addEventListener('click', evt => {\n  if (!evt.target.classList.contains('backdrop')) {\n    return;\n  }\n  const isMenuOpen = backdrop.getAttribute('aria-expanded') === 'true' || false;\n  backdrop.setAttribute('aria-expanded', !isMenuOpen);\n  backdrop.classList.add('is-hidden');\n\n  const scrollLockMethod = !isMenuOpen\n    ? 'disableBodyScroll'\n    : 'enableBodyScroll';\n  bodyScrollLock[scrollLockMethod](document.body);\n});\n"],"names":["$6b31420662843918$export$2e2bcd8739ae039","page","arguments","length","fetch","concat","then","resp","json","$2630395f5b1f2e73$var$dataBox","document","querySelector","$2630395f5b1f2e73$export$2e2bcd8739ae039","data","murkUp","map","img","largeImageURL","webformatURL","tags","join","innerHTML","$ee6e927c2f994cfb$export$2e2bcd8739ae039","totalHits","hitsLength","allPages","Math","ceil","$dfaf77c789ce7a24$var$listRef","$dfaf77c789ce7a24$var$globalCurrentPage","$dfaf77c789ce7a24$var$childIndex","$dfaf77c789ce7a24$export$2e2bcd8739ae039","currentPage","beforeOnePage","afterTwoPage","afterOnePage","children","firstElementChild","classList","add","$dfaf77c789ce7a24$var$createAccentCurrentPage","addEventListener","evt","Boolean","target","closest","hits","nodeName","textContent","Number","$bbe98723da7baffd$var$backdrop","$b8f9b7833fa37166$var$backdrop","link","querySelectorAll","i","href","console","log","currentTarget","dataset","large","preventDefault","remove","contains","isMenuOpen","getAttribute","setAttribute","bodyScrollLock","body"],"version":3,"file":"index.8d60ecf1.js.map"}