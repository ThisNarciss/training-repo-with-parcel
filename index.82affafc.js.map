{"mappings":"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","sources":["src/js/fetch-countries-api.js","src/js/create-murk-up.js","src/js/pagination.js","src/index.js"],"sourcesContent":["export default function fetchCountriesApi(page = 1) {\n  return fetch(\n    `https://pixabay.com/api/?key=32144711-033503d2fc66376fdc1e9e47c&q=beautiful+girl&image_type=photo&orientation=horizontal&page=${page}&per_page=20`\n  ).then(resp => resp.json());\n}\n","export default function createMurkUp(data, murkUpBox) {\n  const murkUp = data\n    .map(img => {\n      return `<div class=\"box\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\" ><p>${img.tags}</p></div>`;\n    })\n    .join('');\n\n  murkUpBox.innerHTML = murkUp;\n}\n","import fetchCountries from './fetch-countries-api';\nimport createMurkUp from './create-murk-up';\n\nconst listRef = document.querySelector('.js-pagination-box');\nconst dataBox = document.querySelector('.js-fetch-box');\nlet globalCurrentPage = 0;\nlet childIndex = 0;\n\n/**\n * Create pagination\n * @param {Number} currentPage\n * @param {Number} allPages\n * @return {String}\n */\nexport default function pagination(currentPage, allPages) {\n  let murkUp = '';\n  let beforeTwoPage = currentPage - 2;\n  let beforeOnePage = currentPage - 1;\n  let afterTwoPage = currentPage + 2;\n  let afterOnePage = currentPage + 1;\n  globalCurrentPage = currentPage;\n\n  if (currentPage > 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><a class=\"link-pag link-pag--btn btn-left\" href=\"\"><svg class=\"pag-icon pag-icon--reverse\" width=\"30\" height=\"30\"><use href=\"/symbol-defs.a8b2e413.svg#icon-btn-arrow\"></use></svg></a></li>';\n  } else if (currentPage === 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><a class=\"link-pag link-pag--btn link-pag--hidden\" href=\"\"><svg class=\"pag-icon pag-icon--reverse\" width=\"30\" height=\"30\"><use href=\"/symbol-defs.a8b2e413.svg#icon-btn-arrow\"></use></svg></a></li>';\n  }\n\n  if (currentPage > 1) {\n    murkUp +=\n      '<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">1</a></li>';\n  }\n  if (currentPage > 4) {\n    murkUp +=\n      '<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">...</a></li>';\n  }\n  if (currentPage > 3) {\n    murkUp += `<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">${beforeTwoPage}</a></li>`;\n  }\n  if (currentPage > 2) {\n    murkUp += `<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">${beforeOnePage}</a></li>`;\n  }\n  murkUp += `<li class=\"item-pag\">\n        <a id=\"first\" class=\"link-pag\" href=\"\">${currentPage}</a>\n      </li>`;\n  if (allPages - 1 > currentPage) {\n    murkUp += `<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">${afterOnePage}</a></li>`;\n  }\n  if (allPages - 2 > currentPage) {\n    murkUp += `<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">${afterTwoPage}</a></li>`;\n  }\n  if (allPages - 3 > currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><a id=\"first\" class=\"link-pag\" href=\"\">...</a></li>';\n  }\n  if (allPages > currentPage) {\n    murkUp += `<li class=\"item-pag\">\n        <a id=\"first\" class=\"link-pag\" href=\"\">${allPages}</a>\n      </li>`;\n  }\n\n  if (allPages > currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><a class=\"link-pag link-pag--btn btn-right\" href=\"\"><svg class=\"pag-icon\" width=\"30\" height=\"30\"><use href=\"/symbol-defs.a8b2e413.svg#icon-btn-arrow\"></use></svg></a></li>';\n  } else if (allPages === currentPage) {\n    murkUp +=\n      '<li class=\"item-pag\"><a class=\"link-pag link-pag--btn link-pag--hidden\" href=\"\"><svg class=\"pag-icon\" width=\"30\" height=\"30\"><use href=\"/symbol-defs.a8b2e413.svg#icon-btn-arrow\"></use></svg></a></li>';\n  }\n\n  listRef.innerHTML = murkUp;\n\n  createAccentCurrentPage(currentPage);\n}\n\nfunction createAccentCurrentPage(val) {\n  if (currentPage === allPages) {\n    childIndex = 5;\n  } else if (currentPage <= 5) {\n    childIndex = 0;\n    childIndex += currentPage;\n  }\n\n  const firstRef = listRef.children[childIndex].firstElementChild;\n  firstRef.classList.add('current');\n}\n\nlistRef.addEventListener('click', renderPaginationMurkUp);\n\nfunction renderPaginationMurkUp(evt) {\n  evt.preventDefault();\n\n  if (evt.target.closest('.btn-right')) {\n    if (evt.target.closest('.btn-right').classList.contains('btn-right')) {\n      globalCurrentPage += 1;\n      fetchCountries(globalCurrentPage).then(data => {\n        const allPages = Math.ceil(data.totalHits / data.hits.length);\n\n        createMurkUp(data.hits, dataBox);\n        pagination(globalCurrentPage, allPages);\n      });\n      return;\n    }\n  }\n  if (evt.target.closest('.btn-left')) {\n    if (evt.target.closest('.btn-left').classList.contains('btn-left')) {\n      globalCurrentPage -= 1;\n      fetchCountries(globalCurrentPage).then(data => {\n        const allPages = Math.ceil(data.totalHits / data.hits.length);\n\n        createMurkUp(data.hits, dataBox);\n        pagination(globalCurrentPage, allPages);\n      });\n      return;\n    }\n  }\n\n  if (evt.target.nodeName !== 'A') {\n    return;\n  }\n  if (evt.target.textContent === '...') {\n    return;\n  }\n\n  const page = Number(evt.target.textContent);\n\n  fetchCountries(page).then(data => {\n    const allPages = Math.ceil(data.totalHits / data.hits.length);\n    createMurkUp(data.hits, dataBox);\n    pagination(page, allPages);\n  });\n}\n","import fetchCountries from './js/fetch-countries-api';\nimport pagination from './js/pagination';\nimport createMurkUp from './js/create-murk-up';\n\nconst dataBox = document.querySelector('.js-fetch-box');\n\nfetchCountries().then(data => {\n  const allPages = Math.ceil(data.totalHits / data.hits.length);\n\n  createMurkUp(data.hits, dataBox);\n  pagination(1, allPages);\n});\n"],"names":["$6b31420662843918$export$2e2bcd8739ae039","page","arguments","length","fetch","concat","then","resp","json","$2630395f5b1f2e73$export$2e2bcd8739ae039","data","murkUpBox","murkUp","map","img","webformatURL","tags","join","innerHTML","$dfaf77c789ce7a24$var$listRef","document","querySelector","$dfaf77c789ce7a24$var$dataBox","$dfaf77c789ce7a24$var$globalCurrentPage","$dfaf77c789ce7a24$var$childIndex","$dfaf77c789ce7a24$export$2e2bcd8739ae039","currentPage","allPages","beforeOnePage","afterTwoPage","afterOnePage","$dfaf77c789ce7a24$var$createAccentCurrentPage","val","children","firstElementChild","classList","add","addEventListener","evt","preventDefault","target","closest","contains","Math","ceil","totalHits","hits","nodeName","textContent","Number","$b8f9b7833fa37166$var$dataBox"],"version":3,"file":"index.82affafc.js.map"}